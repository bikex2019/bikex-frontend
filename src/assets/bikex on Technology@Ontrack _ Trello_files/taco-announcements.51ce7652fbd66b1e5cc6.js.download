(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{4730:function(e,n,t){e.exports=t.p+"images/TinyTacoTalking.1b4043f492b914f4b1f3.png"},5120:function(e,n,t){var r=t(5121);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(19)(r,o);r.locals&&(e.exports=r.locals)},5121:function(e,n,t){(n=e.exports=t(18)(!1)).push([e.i,".HDLVBVBs4mWoi_{padding:4px;margin-bottom:4px;border-bottom:1px solid rgba(9,30,66,.13)}._1P-KdP3fUGy5Tm h3,._1P-KdP3fUGy5Tm p{margin:0 0 8px}.yRMsF6kWI-BjMg,.yRMsF6kWI-BjMg a{color:#5e6c84}.yRMsF6kWI-BjMg a:not(._38uVdHlQFmBXme):hover{color:#172b4d}._2fHYSG3WrmntS6{background-color:#e9e9e9}._2vPLkoBnm0rqqz{text-decoration:none}._2vPLkoBnm0rqqz:hover{text-decoration:underline}",""]),n.locals={announcement:"HDLVBVBs4mWoi_","announcement-blog":"_1P-KdP3fUGy5Tm",quiet:"yRMsF6kWI-BjMg",disabled:"_38uVdHlQFmBXme","announcement-downtime":"_2fHYSG3WrmntS6",announcementHeaderLink:"_2vPLkoBnm0rqqz"}},5122:function(e,n,t){var r=t(5123);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(19)(r,o);r.locals&&(e.exports=r.locals)},5123:function(e,n,t){(n=e.exports=t(18)(!1)).push([e.i,"._107oe4ZASY431q{margin:10px 0 0}._3bTQ6o9FGX-JMG{margin:0 4px 5px}._1zsA1NHze3_bvl{border-radius:3px;color:#5e6c84;display:block;float:left;height:20px;font-size:16px;font-weight:700;line-height:20px;padding:10px 10px 10px 36px;position:relative;text-align:center}._1zsA1NHze3_bvl:hover{background-color:#dfe1e6;color:#172b4d}._9Va-yAzdy_0oN{position:absolute;top:5px;left:5px}._3WbMJMgB2ZAGoJ{border-radius:3px;display:block;float:left;height:30px;padding:5px 8px;text-align:center}._3WbMJMgB2ZAGoJ:hover{background-color:#dfe1e6}",""]),n.locals={footerLinks:"_107oe4ZASY431q",footerMessage:"_3bTQ6o9FGX-JMG",blogLink:"_1zsA1NHze3_bvl",blogIcon:"_9Va-yAzdy_0oN",socialMediaLink:"_3WbMJMgB2ZAGoJ"}},5124:function(e,n,t){var r=t(5125);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(19)(r,o);r.locals&&(e.exports=r.locals)},5125:function(e,n,t){var r=t(238);(n=e.exports=t(18)(!1)).push([e.i,"._20LsTvB77L7f9J{position:relative}._2Dt0bzRXNV_BCC{color:#fff;display:block;outline:none;overflow:hidden;height:35px;width:360px;position:absolute;margin:0 0 0 8px}._2Dt0bzRXNV_BCC,._2Dt0bzRXNV_BCC:active,._2Dt0bzRXNV_BCC:focus,._2Dt0bzRXNV_BCC:hover{background:none;box-shadow:none}._24V3xcIX1m9-TH{background-image:url("+r(t(4730))+");background-size:33px 41px;display:block;height:40px;left:0;position:absolute;top:15px;transition:top 85ms ease-in,margin 85ms ease-in;width:33px}.JUgGPh6MkxJvMh{border-right:7px solid #519839;border-top:7px solid transparent;border-bottom:7px solid transparent;height:0;left:-7px;position:absolute;top:8px;transition:border-right-color 85ms ease-in;width:0}.JUgGPh6MkxJvMh._1NJUPyWc-IWJ2d{border-right-color:#b04632}._3vsxAdS2lRotbh{background-color:#519839;border-radius:3px;line-height:18px;padding:6px 8px;position:absolute;left:43px;top:40px;transition:top 85ms ease-in,background-color 85ms ease-in;white-space:nowrap;z-index:1}._3vsxAdS2lRotbh._1NJUPyWc-IWJ2d{background-color:#b04632}._3pl3rhpxTsGCx1{display:none}._3pl3rhpxTsGCx1 ._3vsxAdS2lRotbh,._3pl3rhpxTsGCx1 ._24V3xcIX1m9-TH{top:40px}.avtfPLlZdUqHdg ._24V3xcIX1m9-TH{top:15px}.avtfPLlZdUqHdg ._3vsxAdS2lRotbh{top:40px}._2Fk5Z5odYcOixx ._3vsxAdS2lRotbh,._2Fk5Z5odYcOixx ._24V3xcIX1m9-TH,.avtfPLlZdUqHdg:hover ._3vsxAdS2lRotbh,.avtfPLlZdUqHdg:hover ._24V3xcIX1m9-TH{top:0}@media only screen and (min-width:751px) and (max-width:900px){._2Dt0bzRXNV_BCC{width:40px}._3vsxAdS2lRotbh{display:none}}@media only screen and (max-width:750px){._2Dt0bzRXNV_BCC{display:none}}._2CaAAYySYdjlSA{max-height:311px;overflow-x:hidden;overflow-y:auto;padding:0 12px 12px}",""]),n.locals={container:"_20LsTvB77L7f9J",button:"_2Dt0bzRXNV_BCC",rooIcon:"_24V3xcIX1m9-TH",leftArrow:"JUgGPh6MkxJvMh",rooAlert:"_1NJUPyWc-IWJ2d",rooText:"_3vsxAdS2lRotbh",rooHidden:"_3pl3rhpxTsGCx1",rooCrouch:"avtfPLlZdUqHdg",rooUp:"_2Fk5Z5odYcOixx",popoverContent:"_2CaAAYySYdjlSA"}},5173:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(106),i=t(1),c=t(4),l=t.n(c),s=t(7),u=t(5120),m=t.n(u);function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p,f,b=Object(s.forTemplate)("announcement"),h=function(e){var n;return d(n={},m.a.announcement,!0),d(n,m.a["announcement-".concat(e)],!!e),n},g=function(){Object(i.trackUe)({category:i.Noun.HEADER,verb:i.Verb.OPENS,directObj:i.Noun.LANDING_TAB,context:{landingtab:"Opened Announcement Link"}})},v=function(e){var n=e.url,t=e.title,r=e.html,a=e.type;return o.a.createElement("div",{className:l()(h(a))},o.a.createElement("h3",{className:m.a.announcementHeader},n?o.a.createElement("a",{className:m.a.announcementHeaderLink,href:n,target:"_blank",rel:"noopener noreferrer",onClick:g},t):t),o.a.createElement("p",{dangerouslySetInnerHTML:{__html:r}}),n&&o.a.createElement("p",{className:m.a.quiet},o.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},b("read-more-ellipsis"))))},x=t(28),y=t(5122),_=t.n(y),N=Object(s.forTemplate)("header_announcements"),A=Object(s.forNamespace)("social"),k=function(e){return function(){Object(i.trackUe)({category:i.Noun.HEADER,verb:i.Verb.OPENS,directObj:i.Noun.LANDING_TAB,context:{landingTab:e}})}},S=function(e){var n=e.highlightedUrl,t=new URL(A("blog"));if(t.searchParams.append("utm_campaign","none"),t.searchParams.append("utm_source","direct"),t.searchParams.append("utm_medium","inapp"),n){var r=new URL(n);if(r.host.includes("blog.trello.com")){if(r.searchParams.has("utm_campaign"))t.searchParams.set("utm_campaign",r.searchParams.get("utm_campaign"));else{var a=r.pathname.split("/");a.length>0&&t.searchParams.set("utm_campaign",a[a.length-1])}r.searchParams.has("utm_source")&&t.searchParams.set("utm_source",r.searchParams.get("utm_source"))}}return o.a.createElement("footer",{className:_.a.footerLinks},o.a.createElement("p",{className:l()(_.a.quiet,_.a.footerMessage)},N("for-more-updates-check-out-ellipsis")),o.a.createElement("a",{className:_.a.blogLink,target:"_blank",rel:"noopener noreferrer",href:t.toString(),onClick:k("blog")},o.a.createElement(x.default,{className:_.a.blogIcon,name:x.IconName.Board,large:!0}),o.a.createElement("span",{className:_.a.underline},N("trello-blog"))),o.a.createElement("a",{className:_.a.socialMediaLink,target:"_blank",rel:"noopener noreferrer",href:A("twitter"),onClick:k("twitter")},o.a.createElement(x.default,{name:x.IconName.Twitter,large:!0})),o.a.createElement("a",{className:_.a.socialMediaLink,target:"_blank",rel:"noopener noreferrer",href:A("facebook"),onClick:k("facebook")},o.a.createElement(x.default,{name:x.IconName.Facebook,large:!0})),o.a.createElement("a",{className:_.a.socialMediaLink,target:"_blank",rel:"noopener noreferrer",href:A("instagram"),onClick:k("instagram")},o.a.createElement(x.default,{name:x.IconName.Instagram,large:!0})))},w=t(32),E=t(23),O=t(72),j=parseInt(E.Storage.get("tacoTimeMs")),P=30*(isNaN(j)?1e3:j),I=2*P,C=10*I,M=60*I,T=Symbol("ROO_ANNOUNCEMENT");!function(e){e.Up="up",e.Crouched="crouched",e.Hidden="hidden"}(p||(p={})),function(e){e.Normal="normal",e.Maintenance="maintenance"}(f||(f={}));var H=function(e){return"announcement-".concat(e,"-read")},L=function(e){return!E.Storage.get(H(e))};function U(){return(U=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function R(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var B=function(e){var n,t,a=e.announcements,c=e.onDismissAnnouncements,l=Object(w.g)({variables:{filter:"all"},fetchPolicy:"cache-and-network"}).data,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=e.map(function(e){return e.id}),r=n.filter(function(e){return Object(O.matches)(e.locale,O.currentLocale)&&!t.includes(e.id)});return e.concat(r)}(a,null!==(n=null==l?void 0:l.announcements)&&void 0!==n?n:[]),u=R(Object(w.y)(),1)[0];return Object(r.useEffect)(function(){var e;regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!((e=s.reduce(function(e,n){var t;return L(n.id)&&(t=n.id,E.Storage.set(H(t),"true"),Object(i.trackUe)({category:i.Noun.ANNOUNCEMENTS,verb:i.Verb.DISMISSES,directObj:i.Noun.ANNOUNCEMENTS}),e.push(u({variables:{announcementId:n.id}}))),e},[])).length>0)){n.next=5;break}return n.next=4,regeneratorRuntime.awrap(Promise.all(e));case 4:c();case 5:case"end":return n.stop()}})},[s,u,c]),o.a.createElement(o.a.Fragment,null,s.map(function(e){return o.a.createElement(v,U({key:e.id},e))}),o.a.createElement(S,{highlightedUrl:null===(t=s[0])||void 0===t?void 0:t.url}))},V=t(5124),J=t.n(V);function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var z=Object(s.forNamespace)("announcements"),G=Object(s.forNamespace)("view title"),X=function(e){var n,t,r,i=e.announcements,c=e.position,s=void 0===c?p.Hidden:c,u=e.style,m=void 0===u?f.Normal:u,d=e.isPopoverShown,b=void 0!==d&&d,h=e.showPopover,g=e.onDismissAnnouncements,v=o.a.createRef(),x=m===f.Maintenance?z("maintenance"):z("new stuff"),y=l()((D(n={},J.a.button,!0),D(n,J.a.rooHidden,s===p.Hidden),D(n,J.a.rooUp,s===p.Up),D(n,J.a.rooCrouch,s===p.Crouched),n)),_=l()((D(t={},J.a.rooText,!0),D(t,J.a.rooAlert,m===f.Maintenance),t)),N=l()((D(r={},J.a.leftArrow,!0),D(r,J.a.rooAlert,m===f.Maintenance),r));return o.a.createElement("div",{className:J.a.container},o.a.createElement("button",{className:y,ref:v,onClick:h,hidden:s===p.Hidden},o.a.createElement("span",{className:J.a.rooIcon}),o.a.createElement("span",{className:_},o.a.createElement("span",{className:N}),o.a.createElement("span",null,x)),b&&o.a.createElement(a.a,{name:T,title:G("announcements"),target:function(){return v.current}},function(){return o.a.createElement("div",{className:J.a.popoverContent},o.a.createElement(B,{announcements:i,onDismissAnnouncements:g}))})))};function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var q="tacoShow-".concat(O.currentLocale),F=function(){var e=parseInt(E.Storage.get(q));return!(e&&!isNaN(e))||Date.now()>e},Z=function(){var e=W(Object(r.useState)(!F()),2),n=e[0],t=e[1];Object(r.useEffect)(function(){var e=setInterval(function(){F()?(t(!1),E.Storage.unset(q)):t(!0)},P);return function(){return clearInterval(e)}},[]);return[n,function(){var e;e=Date.now()+M,E.Storage.set(q,e.toString()),t(!0)}]};function Y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Q(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var K=function(){var e=Q(Object(r.useState)(f.Normal),2),n=e[0],t=e[1],o=Q(Object(r.useState)([]),2),a=o[0],i=o[1],c=Object(w.g)({pollInterval:C}).data;return Object(r.useEffect)(function(){var e,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(function(e){return Object(O.matches)(e.locale,O.currentLocale)&&L(e.id)})}(null!==(e=null==c?void 0:c.announcements)&&void 0!==e?e:[]);n!==f.Maintenance&&t(r.filter(function(e){return e.type===w.a.Downtime}).length>0?f.Maintenance:f.Normal),i(r)},[c,n]),{unreadAnnouncements:a,tacoStyle:n,resetUnreadAnnouncements:function(){i([])}}};function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.d(n,"TacoAnnouncements",function(){return ee});var ee=function(){var e,n,c,l,s=Object(a.c)({name:T}),u=s.isPopoverShown,m=s.showPopover,d=(e=t(4730),n=Y(Object(r.useState)(!1),2),c=n[0],l=n[1],Object(r.useEffect)(function(){var n=new Image;n.onload=function(){return l(!0)},n.src=e},[e]),c),f=K(),b=f.unreadAnnouncements,h=f.resetUnreadAnnouncements,g=f.tacoStyle,v=$(Z(),2),x=v[0],y=v[1],_=Object(r.useCallback)(function(){y(),m(),Object(i.trackUe)({category:i.Noun.HEADER,verb:i.Verb.OPENS,directObj:i.Noun.ANNOUNCEMENTS,context:{type:"Roo",interestingAnnouncementCount:b.length}})},[b,m,y]),N=p.Hidden;return d&&b.length>0?N=p.Up:d&&x&&(N=p.Crouched),o.a.createElement(X,{announcements:b,position:N,style:g,isPopoverShown:u,showPopover:_,onDismissAnnouncements:h})}}}]);
//# sourceMappingURL=taco-announcements.51ce7652fbd66b1e5cc6.js.map